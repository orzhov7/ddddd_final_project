---
title: "ddddd_final_project_markdown"
date: "9/13/2020"
output: html_document
---
```{r initialize_libraries}
library(janitor)
library(skimr)
library(tidyverse)
```

```{r zip_code_setup}
# This file was semicolon delimited due to location information.
# Removed non-Illinois zip codes, trimmed columns for timezone, daylight savings, a geolocation.

zip_codes <- read.csv("us_zip_codes.csv",sep=';') %>%
  filter(State == "IL") %>% 
  select(Zip, City, State, Latitude, Longitude)
zip_codes
```

```{r chicago_population_setup}
# Comments Here

chicago_population_zip_code <- read.csv("chicago_population_by_zip_code.csv") %>%
  filter(Geography.Type == "ZIP Code") %>% 
   select(Zip = Geography, Population = Population...Total)
chicago_population_zip_code
```


```{r list_of_l_stops}
# Comments Here

l_stops <- read.csv("list_of_l_stops.csv") %>%
  select(
      Station_Name = STATION_NAME,
      Red_Line = RED,
      Blue_Line = BLUE,
      Green_Line = G,
      Brown_Line = BRN,
      Purple_Line = P,
      Purple_Express_Line = Pexp,
      Yellow_Line = Y,
      Pink_Line = Pnk,
      Orange_Line = O,
      Location) %>%
  mutate(New_Location = substring(Location, 2, nchar(Location) - 1)) %>%
  mutate(Station_Name = ifelse(
    Station_Name == "95th/Ran Ryan", "95th/Dan Ryan", Station_Name)) %>%
  separate(New_Location, c("Latitude","Longitude"), ",")
l_stops
```
```{r l_stops_conversion}
# Comments Here

l_stops_conversion <- l_stops
l_stops_conversion$Red_Line <- as.logical(l_stops_conversion$Red_Line)
l_stops_conversion$Blue_Line <- as.logical(l_stops_conversion$Blue_Line)
l_stops_conversion$Green_Line <- as.logical(l_stops_conversion$Green_Line)
l_stops_conversion$Brown_Line <- as.logical(l_stops_conversion$Brown_Line)
l_stops_conversion$Purple_Line <- as.logical(l_stops_conversion$Purple_Line)
l_stops_conversion$Purple_Express_Line <- as.logical(l_stops_conversion$Purple_Express_Line)
l_stops_conversion$Yellow_Line <- as.logical(l_stops_conversion$Yellow_Line)
l_stops_conversion$Pink_Line <- as.logical(l_stops_conversion$Pink_Line)
l_stops_conversion$Orange_Line <- as.logical(l_stops_conversion$Orange_Line)
l_stops_conversion$Latitude <- as.numeric(l_stops_conversion$Latitude)
l_stops_conversion$Longitude <- as.numeric(l_stops_conversion$Longitude)
l_stops_conversion
```

```{r l_stops_duplicate_removal}
l_stops_conversion_2 <- group_by(l_stops_conversion, Station_Name, Latitude, Longitude) %>% 
  summarise(Red_Line = any(Red_Line),
            Blue_Line = any(Blue_Line),
            Green_Line = any(Green_Line),
            Brown_Line = any(Brown_Line),
            Purple_Line = any(Purple_Line),
            Purple_Express_Line = any(Purple_Express_Line),
            Yellow_Line = any(Yellow_Line),
            Pink_Line = any(Pink_Line),
            Orange_Line = any(Orange_Line))
l_stops_conversion_2
```
```{r}
daily_entries <- read.csv("daily_station_entries_2017_2019.csv") %>% 
  select(
      Map_ID = station_id,
      date,
      rides)
      
```


```

